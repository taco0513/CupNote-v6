# 검색 기능 (Search Functionality)

## 기능 개요
앱 전체에서 커피 기록, 카페, 원두, 사용자를 검색하는 통합 검색 시스템

## 검색 진입점

### 글로벌 검색 (AppHeader)
```
┌─────────────────────────────────┐
│ CupNote        [🔍] [🔔] [⚙️]  │
└─────────────────────────────────┘
```
- 모든 페이지에서 접근 가능
- 헤더의 검색 아이콘 탭

### 페이지별 검색
- 내 기록: 개인 기록 검색
- 커뮤니티: 공개 기록 검색
- 카페 찾기: 카페 검색

## 통합 검색 화면

### 검색 인터페이스
```
┌─────────────────────────────────┐
│ [←] 검색                [취소]  │
├─────────────────────────────────┤
│                                 │
│ ┌───────────────────────────┐   │
│ │ 🔍 검색어 입력...          │   │
│ └───────────────────────────┘   │
│                                 │
│ 빠른 필터                        │
│ [내 기록] [카페] [원두] [사용자] │
│                                 │
│ 최근 검색                        │
│ • 에티오피아 예가체페           │
│ • 블루보틀                      │
│ • V60                           │
│ • @coffee_master               │
│                                 │
│ 인기 검색어                      │
│ • 게이샤                        │
│ • 프릳츠                        │
│ • 콜드브루                      │
└─────────────────────────────────┘
```

## 검색 결과

### 통합 결과 뷰
```
┌─────────────────────────────────┐
│ "에티오피아" 검색 결과          │
│                                 │
│ 내 기록 (12)                    │
│ ┌─────────────────────────────┐ │
│ │ ☕ 에티오피아 예가체페        │ │
│ │ 2025.08.07 | ⭐⭐⭐⭐        │ │
│ └─────────────────────────────┘ │
│ ┌─────────────────────────────┐ │
│ │ ☕ 에티오피아 시다모          │ │
│ │ 2025.07.30 | ⭐⭐⭐⭐⭐      │ │
│ └─────────────────────────────┘ │
│ [더 보기]                        │
│                                 │
│ 카페 (5)                        │
│ ┌─────────────────────────────┐ │
│ │ 📍 에티오피아 커피하우스      │ │
│ │ 성수동 | 4.5점 | 2.3km       │ │
│ └─────────────────────────────┘ │
│ [더 보기]                        │
│                                 │
│ 원두 (8)                        │
│ ┌─────────────────────────────┐ │
│ │ 🫘 에티오피아 예가체페 G1     │ │
│ │ 프릳츠 | 라이트 로스팅        │ │
│ └─────────────────────────────┘ │
│ [더 보기]                        │
└─────────────────────────────────┘
```

### 카테고리별 결과

#### 내 기록 검색
```
┌─────────────────────────────────┐
│ 내 기록 검색 결과 (23개)        │
│                                 │
│ 필터: [날짜순] [평점순]         │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 에티오피아 예가체페           │ │
│ │ Cafe Mode | 블루보틀         │ │
│ │ 2025.08.07 | ⭐⭐⭐⭐        │ │
│ │ "과일향이 선명한..."          │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 에티오피아 구지               │ │
│ │ HomeCafe | V60              │ │
│ │ 2025.08.01 | ⭐⭐⭐⭐⭐      │ │
│ │ "블루베리 폭탄..."            │ │
│ └─────────────────────────────┘ │
│                                 │
│ [더 보기]                        │
└─────────────────────────────────┘
```

#### 카페 검색
```
┌─────────────────────────────────┐
│ 카페 검색 결과 (15개)           │
│                                 │
│ 정렬: [거리순] [평점순]         │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 📍 블루보틀 성수              │ │
│ │ ⭐ 4.5 | 리뷰 234개         │ │
│ │ 📏 1.2km | 영업중           │ │
│ │ 스페셜티, 핸드드립           │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 📍 프릳츠 커피 도산           │ │
│ │ ⭐ 4.7 | 리뷰 156개         │ │
│ │ 📏 2.3km | 영업중           │ │
│ │ 로스터리, 스페셜티           │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

#### 원두 검색
```
┌─────────────────────────────────┐
│ 원두 검색 결과 (32개)           │
│                                 │
│ 필터: [원산지] [로스팅] [가공]  │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 🫘 에티오피아 예가체페 G1     │ │
│ │ 로스터: 프릳츠               │ │
│ │ 가공: 워시드 | 라이트        │ │
│ │ 노트: 베리, 플로럴, 시트러스  │ │
│ │ 12명이 기록함               │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 🫘 콜롬비아 핑크버번          │ │
│ │ 로스터: 테라로사             │ │
│ │ 가공: 워시드 | 미디엄        │ │
│ │ 노트: 초콜릿, 캐러멜         │ │
│ │ 8명이 기록함                │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

#### 사용자 검색
```
┌─────────────────────────────────┐
│ 사용자 검색 결과 (5개)          │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 👤 @coffee_master            │ │
│ │ Lv.15 커피 마스터           │ │
│ │ 기록 523 | 팔로워 1.2K      │ │
│ │ [팔로우]                    │ │
│ └─────────────────────────────┘ │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 👤 @daily_coffee             │ │
│ │ Lv.8 커피 애호가            │ │
│ │ 기록 156 | 팔로워 234       │ │
│ │ [팔로우]                    │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

## 고급 검색

### 상세 필터
```
┌─────────────────────────────────┐
│ 🔧 상세 필터                    │
│                                 │
│ 기간                            │
│ [오늘] [이번주] [이번달]        │
│ [직접선택: 2025.07.01-08.07]    │
│                                 │
│ 평점                            │
│ ⭐ ① ② ③ ④ ⑤ 이상            │
│                                 │
│ 원산지                          │
│ ☑ 에티오피아 ☑ 콜롬비아       │
│ ☐ 브라질 ☐ 케냐               │
│                                 │
│ 로스팅                          │
│ ☑ 라이트 ☐ 미디엄 ☐ 다크     │
│                                 │
│ 가공방식                        │
│ ☑ 워시드 ☐ 내추럴 ☐ 허니     │
│                                 │
│ 추출방법 (HomeCafe)             │
│ ☑ V60 ☐ Chemex ☐ AeroPress   │
│                                 │
│ [초기화]         [적용]         │
└─────────────────────────────────┘
```

## 검색 기능 특징

### 실시간 검색
- 타이핑 중 실시간 제안
- 자동완성 기능
- 오타 교정

### 검색 제안
```
┌─────────────────────────────────┐
│ "에티" 입력 중...               │
│                                 │
│ 추천 검색어:                    │
│ • 에티오피아                    │
│ • 에티오피아 예가체페           │
│ • 에티오피아 시다모             │
│ • 에티오피아 구지               │
└─────────────────────────────────┘
```

### 검색 연산자
- AND: "에티오피아 AND 워시드"
- OR: "V60 OR Chemex"
- 제외: "커피 -디카페인"
- 정확히: "블루보틀 성수"

## 검색 알고리즘

### 우선순위
1. 정확한 일치
2. 부분 일치
3. 유사어
4. 관련어

### 가중치
- 제목/이름: 100%
- 태그: 80%
- 내용: 60%
- 설명: 40%

### 개인화
- 사용자 선호 반영
- 검색 이력 기반
- 팔로우 관계 고려

## 검색 히스토리

### 최근 검색 관리
```
┌─────────────────────────────────┐
│ 최근 검색 기록                  │
│                                 │
│ • 에티오피아 예가체페 [X]       │
│ • 블루보틀 [X]                 │
│ • V60 [X]                      │
│ • @coffee_master [X]           │
│                                 │
│ [전체 삭제]                     │
└─────────────────────────────────┘
```

## 검색 결과 활용

### 저장 검색
- 자주 쓰는 검색 저장
- 알림 설정
- 빠른 접근

### 공유
- 검색 결과 공유
- 필터 설정 공유

## 성능 최적화

### 인덱싱
- 전문 검색 인덱스
- 실시간 업데이트
- 캐시 활용

### 응답 속도
- <100ms 목표
- 점진적 로딩
- 비동기 처리