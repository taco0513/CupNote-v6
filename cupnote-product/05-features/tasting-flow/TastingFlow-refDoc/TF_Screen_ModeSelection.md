# TF_Screen_ModeSelection - 모드 선택 화면

> TastingFlow의 시작점, 사용자 목적에 맞는 테이스팅 모드를 선택하는 화면

## 📱 화면 개요

**구현 파일**: `[screens]/tasting/ModeSelectionScreen`
**역할**: TastingFlow 진입점, 2가지 테이스팅 모드 중 선택
**소요시간**: 30초 이내
**최종 업데이트**: 2025-08-01 (Lab/Pro Mode 제거, 2개 모드로 단순화)

## 🎯 기능 정의

### 핵심 기능
- 2가지 TastingFlow 모드 중 하나 선택 (Cafe, HomeCafe)
- 선택된 모드에 따른 워크플로우 분기 처리
- 모드별 특성과 예상 소요시간 안내

### 기술적 목표
- 명확한 UI를 통한 사용자 의도 파악
- 선택된 모드 상태 관리 및 전달
- 다음 화면으로의 적절한 네비게이션 처리
- 단순화된 2-모드 선택으로 사용자 혼란 최소화

## 🏗️ UI/UX 구조

### 화면 레이아웃 (2-모드 최적화)
```
Header: "어떤 방식으로 기록하시겠어요?"
├── Cafe Mode Card
│   ├── 아이콘 (☕)
│   ├── 제목: "카페 모드"
│   ├── 설명: "카페에서 간단히 기록"
│   ├── 소요시간: "8-12분" (현실적 시간 반영)
│   └── Badge: "빠르고 간편"
└── HomeCafe Mode Card  
    ├── 아이콘 (🏠)
    ├── 제목: "홈카페 모드"
    ├── 설명: "집에서 내린 커피 + 레시피"
    ├── 소요시간: "20-35분" (브루잉 시간 포함)
    └── Badge: "상세 기록"
```

### 디자인 원칙 (2-모드 특화)
- **대칭형 레이아웃**: 두 모드를 동등하게 표현
- **명확한 구분**: 간편함 vs 상세함의 명확한 차이점 강조
- **정보 명확성**: 모드명, 설명, 예상 시간, 특성 명시
- **터치 피드백**: 카드 선택 시 시각적 피드백 제공
- **선택 용이성**: 복잡하지 않은 2가지 선택으로 결정 피로도 최소화

## 💾 데이터 처리

### 입력 데이터
```typescript
// 이전 화면에서 전달받는 데이터 없음 (시작 화면)
```

### 출력 데이터 (업데이트)
```typescript
interface ModeSelection {
  mode: 'cafe' | 'homecafe';  // 2개 모드로 단순화
  timestamp: Date;
}
```

### 상태 관리
- **TastingStore**: 선택된 모드 저장
- **NavigationState**: 다음 화면 라우팅 정보

## 🔄 사용자 인터랙션

### 주요 액션
1. **모드 카드 터치**: 해당 모드 선택 및 다음 화면 이동
2. **뒤로가기**: 홈 화면으로 복귀 (Android 백버튼/iOS 스와이프)

### 인터랙션 플로우 (단순화)
```
사용자 진입 → 2가지 모드 중 선택 → CoffeeInfoScreen 이동
```

### 에러 케이스
- **네트워크 연결 불안정**: 오프라인에서도 정상 동작
- **저장 공간 부족**: Alert으로 안내 후 재시도 유도

## 📊 모드별 상세 정보

### 1. Cafe Mode (카페 모드)
- **특징**: 기본 테이스팅 워크플로우 (6단계)
- **필수 입력**: 카페명 + 로스터명 + 커피명 (3단계 Cascade 자동완성)
- **데이터 수집**: 카페명, 로스터명, 커피 기본정보, 향미, 감각표현, 개인/로스터 코멘트
- **예상 소요시간**: 5-7분
- **다음 화면**: CoffeeInfoScreen → FlavorSelection
- **주 사용자**: 카페 방문자, 빠른 기록을 원하는 사용자
- **핵심 가치**: 간편함, 속도

### 2. HomeCafe Mode (홈카페 모드)
- **특징**: 홈카페 레시피 정보 추가 수집 (7단계)
- **필수 입력**: 로스터명 + 커피명 (2단계 Cascade 자동완성, 카페명 없음)
- **데이터 수집**: 기본 정보 + 드리퍼, 추출 레시피, 장비 설정
- **예상 소요시간**: 8-12분
- **다음 화면**: CoffeeInfoScreen → BrewSetupScreen
- **주 사용자**: 홈카페 애호가, 레시피 실험을 즐기는 사용자
- **핵심 가치**: 상세함, 레시피 관리

## 🎨 UI 컴포넌트

### 재사용 컴포넌트
- **ModeCard**: 모드 선택 카드 컴포넌트 (2개 모드 전용 최적화)
- **Badge**: 모드 특성 표시 배지
- **ProgressIndicator**: 진행 상황 표시 (비활성화 상태)

### Tamagui 스타일링 (2-모드 최적화)
```typescript
const ModeCard = styled(Card, {
  backgroundColor: '$background',
  borderRadius: '$3',
  borderWidth: 2,
  padding: '$xl',        // 더 큰 패딩 (2개 모드이므로)
  elevate: true,
  minHeight: 160,        // 적절한 카드 높이
  pressStyle: {
    scale: 0.98,
    backgroundColor: '$backgroundPress',
  },
  animation: 'quick',
});

const ModeContainer = styled(YStack, {
  space: '$lg',
  paddingHorizontal: '$lg',
  justifyContent: 'center',
  minHeight: '60vh',     // 2개 카드 중앙 정렬
});
```

## 📱 반응형 고려사항

### 화면 크기별 대응 (2-모드 특화)
- **iPhone SE**: 세로 배치, 적절한 카드 간격
- **일반 스마트폰**: 세로 배치, 중앙 정렬
- **iPad**: 가로 배치 고려, 더 넓은 카드 활용
- **접근성**: VoiceOver 지원, 충분한 터치 영역 크기

### 레이아웃 옵션
- **세로 모드**: 2개 카드 세로 배치 (기본)
- **가로 모드**: 2개 카드 가로 배치 (태블릿)

## 🔗 네비게이션

### 진입 경로
- **HomeScreen**: "새 테이스팅 기록" 버튼
- **JournalScreen**: "+" 플로팅 버튼
- **QuickTastingShortcut**: 특별한 바로가기 (미래 확장)

### 이동 경로 (업데이트)
- **Cafe Mode 선택**: `CoffeeInfoScreen`으로 이동
- **HomeCafe Mode 선택**: `CoffeeInfoScreen`으로 이동 
- **뒤로가기**: 이전 화면(HomeScreen 등)으로 복귀

### 모드별 워크플로우 분기
```typescript
const navigateToNextScreen = (selectedMode: 'cafe' | 'homecafe') => {
  // 모든 모드가 CoffeeInfoScreen으로 시작
  navigation.navigate('CoffeeInfo', { mode: selectedMode });
};
```

## 📈 성능 최적화

### 로딩 성능
- **즉시 렌더링**: 네트워크 요청 없이 즉시 표시
- **이미지 최적화**: 아이콘은 벡터 형태로 경량화
- **메모리 관리**: 2개 모드만 관리하므로 메모리 효율적

### 사용성 최적화 (2-모드 특화)
- **터치 응답성**: 150ms 이내 시각적 피드백
- **결정 용이성**: 복잡하지 않은 2가지 선택
- **일관성**: 명확한 차이점으로 선택 기준 제공

## 🧪 테스트 시나리오

### 기능 테스트
1. **Cafe Mode 선택**: CoffeeInfoScreen으로 정확한 네비게이션
2. **HomeCafe Mode 선택**: CoffeeInfoScreen으로 정확한 네비게이션  
3. **상태 저장**: 선택된 모드가 TastingStore에 정확히 저장
4. **뒤로가기**: 적절한 이전 화면으로 복귀

### 사용성 테스트 (2-모드 특화)
1. **첫 사용자**: 2가지 모드 설명만으로 적절한 선택 가능한지
2. **선택 속도**: 3가지 → 2가지로 줄어든 결정 시간 측정
3. **재방문 사용자**: 이전 선택 패턴 기반 추천
4. **접근성**: 스크린 리더 사용자 경험

### A/B 테스트 계획
- **A그룹**: 기존 3-모드 (Cafe, HomeCafe, Lab)
- **B그룹**: 신규 2-모드 (Cafe, HomeCafe)
- **측정 지표**: 선택 완료율, 선택 시간, 이탈률

## 🔧 기술적 확장점

### 향후 기술 개선
- **모드 설정 저장**: 사용자 선호 모드 기본값 설정
- **스마트 추천**: 시간대/이전 선택 패턴 기반 모드 추천
- **커스터마이징**: 모드별 세부 옵션 설정
- **통계 분석**: 모드별 사용 빈도 및 만족도 추적

### 미래 확장 가능성
- **시즌별 모드**: 특별한 이벤트나 시즌에 맞는 임시 모드
- **개인화 모드**: 사용자가 직접 구성하는 커스텀 워크플로우
- **협업 모드**: 여러 사용자가 함께 테이스팅하는 모드

## 📊 기대 효과

### 사용성 개선
- **결정 피로도 감소**: 3개 → 2개 선택지로 빠른 선택
- **완료율 향상**: 단순화된 워크플로우로 커피 기록 완성도 증가
- **신규 사용자 접근성**: 명확한 선택 기준으로 진입장벽 해소

### 개발 효율성
- **코드 복잡도 감소**: Lab/Pro Mode 관련 코드 제거로 단순화
- **테스트 단순화**: 테스트 케이스 감소로 QA 효율성 증대
- **문서 간소화**: 불필요한 복잡성 제거로 유지보수 용이

## 🗑️ 제거된 기능들

### Lab Mode (제거됨)
- ~~과학적 분석 데이터 수집~~
- ~~실험 조건, 수치 평가~~
- ~~ExperimentalDataScreen 연동~~

### Pro Mode (제거됨)  
- ~~전문가용 상세 분석~~
- ~~고급 브루잉 설정~~
- ~~복잡한 데이터 입력~~

### 제거 이유
- **사용률 저조**: 복잡한 모드의 실제 사용률 10% 미만
- **유지보수 부담**: 복잡성 대비 사용자 가치 부족
- **제품 방향성**: 간편함과 실용성에 집중

---

**문서 버전**: 2.0 (Lab/Pro Mode 제거)  
**최종 수정**: 2025-08-01  
**관련 문서**: TF_Screen_CoffeeInfo.md, TF_Screen_BrewSetup.md, TF_Screen_FlavorSelection.md  
**구현 상태**: 📋 업데이트 완료 (2-모드 단순화)