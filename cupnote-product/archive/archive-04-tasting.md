# HomeCafe Mode - 화면 4: 테이스팅 (개선안)

## 화면 개요
추출한 커피의 맛을 평가하고 레시피 개선점을 기록하는 단계 (HomeCafe Mode 4/5 단계)

## 화면 구성

### 헤더
```
[←] 테이스팅                     (4/5)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```
- 진행률: 80% 완료

### 전체 평가

#### 종합 점수
```
┌─────────────────────────────────┐
│ 이번 추출은 어땠나요?           │
│                                 │
│   ⭐ ⭐ ⭐ ⭐ ⭐                │
│   탭하여 평가하기               │
│                                 │
│ 이전 추출 대비: ↑ 향상됨        │
│ (3.5 → 4.0)                     │
└─────────────────────────────────┘
```

**특징**:
- 이전 추출과 자동 비교
- 향상/유지/하락 표시

### 맛 프로필 평가

#### 기본 맛 평가 (슬라이더 + 표현 도우미)
```
┌─────────────────────────────────┐
│ 맛 프로필                       │
│                                 │
│ 산미 (Acidity)                  │
│ 🍋 ○───────●────○ 7/10          │
│    약함    중간   강함           │
│ [싱그러운] [발랄한] [청량한]     │
│                                 │
│ 단맛 (Sweetness)                │
│ 🍯 ○────●───────○ 4/10          │
│    약함    중간   강함           │
│ [농밀한] [꿀 같은] [시럽 같은]   │
│                                 │
│ 쓴맛 (Bitterness)               │
│ ☕ ○──●─────────○ 3/10          │
│    약함    중간   강함           │
│ [스모키한] [카카오] [허브]       │
│                                 │
│ 바디 (Body)                      │
│ 💪 ○──────●─────○ 6/10          │
│    가벼움  중간   무거움         │
│ [크리미한] [벨벳] [실키한]       │
│                                 │
│ 여운 (Aftertaste)               │
│ ⏱️ ○────────●───○ 8/10          │
│    짧음    중간   길음           │
│ [깔끔한] [달콤한] [길게 남는]    │
│                                 │
│ 🔄 이전 추출과 비교              │
│ 산미: 6→7 (↑)  단맛: 5→4 (↓)   │
└─────────────────────────────────┘
```

**✨ 개선사항**:
- 감각적 표현 칩 추가
- 이전 추출과 자동 비교
- 변화 추적

#### SCA Flavor Wheel 기반 향미 선택
```
┌─────────────────────────────────┐
│ 어떤 향미가 느껴지나요?          │
│                                 │
│ 📊 Level 1 - 주요 카테고리       │
│ ┌─────────────────────────────┐ │
│ │ [🍓 과일향]  [🌿 초록/식물성] │ │
│ │ [🍫 견과/코코아] [🌸 꽃향기]  │ │
│ │ [🍯 단맛]  [🌶️ 향신료]       │ │
│ │ [🔥 로스팅] [🍷 신맛/발효]    │ │
│ └─────────────────────────────┘ │
│                                 │
│ ▼ 과일향 선택됨                  │
│                                 │
│ 📊 Level 2 - 세부 카테고리       │
│ ┌─────────────────────────────┐ │
│ │ [🍓 베리류]  [🍊 감귤류]      │ │
│ │ [🍇 건조과일] [🍑 기타과일]   │ │
│ └─────────────────────────────┘ │
│                                 │
│ 선택된 향미:                     │
│ 🏷️ 과일향 > 베리류 > 블루베리    │
│ 🏷️ 견과/코코아 > 초콜릿 > 다크   │
│                                 │
│ 💡 이 원두의 일반적인 향미:       │
│ 베리류, 초콜릿, 캐러멜          │
└─────────────────────────────────┘
```

**✨ 개선사항**:
- SCA Flavor Wheel 계층 구조
- 원두별 예상 향미 힌트

### 추출 평가 (HomeCafe 특화)

#### 추출 품질 진단
```
┌─────────────────────────────────┐
│ 🔬 추출 진단                     │
│                                 │
│ 추출 수준                       │
│ ├─ 과소추출                     │
│ │  신맛↑ 짠맛 텁텁함            │
│ ├─ ✅ 적정추출                  │
│ │  균형 단맛 깔끔함             │
│ └─ 과다추출                     │
│     쓴맛↑ 떫음 건조함           │
│                                 │
│ 균일도  ●●●●●●●○○○ 70%         │
│ 청정도  ●●●●●●●●○○ 80%         │
│                                 │
│ 💡 진단: 약간의 채널링 의심      │
│ → 탬핑 압력 균일하게            │
└─────────────────────────────────┘
```

**✨ 개선사항**:
- 추출 수준별 특징 설명
- 자동 진단 및 개선 제안

#### 온도별 변화 기록
```
┌─────────────────────────────────┐
│ 🌡️ 온도별 맛 변화 추적          │
│                                 │
│ 뜨거울 때 (60°C+)               │
│ [산미 강함] [과일향 선명]        │
│                                 │
│ 적당할 때 (45-50°C)             │
│ [균형 최고] [초콜릿 피크]        │
│                                 │
│ 식었을 때 (30°C-)               │
│ [단맛 증가] [바디 묵직]          │
│                                 │
│ 🎯 최적 온도: 48°C               │
└─────────────────────────────────┘
```

**✨ 개선사항**:
- 온도별 표현 칩
- 최적 온도 자동 계산

### 레시피 피드백

#### 추출 변수별 영향 분석
```
┌─────────────────────────────────┐
│ 📊 변수별 영향 분석              │
│                                 │
│ 분쇄도 (현재: 15클릭)            │
│ 굵게 ← ○──●──○ → 곱게          │
│ 영향: 추출 속도↓, 산미↑          │
│                                 │
│ 물 온도 (현재: 93°C)            │
│ 낮게 ← ○───●─○ → 높게          │
│ 영향: 산미↓, 단맛↑              │
│                                 │
│ 추출 시간 (현재: 2:30)          │
│ 짧게 ← ○──●──○ → 길게          │
│ 영향: 바디↓, 쓴맛↓              │
│                                 │
│ 💡 제안: 분쇄도 1클릭 굵게       │
└─────────────────────────────────┘
```

**✨ 개선사항**:
- 변수별 영향 시각화
- AI 기반 개선 제안

#### 개선점 메모
```
┌─────────────────────────────────┐
│ 📝 다음 추출 개선 계획           │
│                                 │
│ 빠른 메모 칩:                    │
│ [분쇄도 ↑굵게] [온도 ↓2도]     │
│ [블루밍 ↑10초] [교반 추가]      │
│ [2차푸어 ↓천천히]               │
│                                 │
│ 상세 메모:                       │
│ ┌───────────────────────────┐   │
│ │ 채널링이 약간 있었던 것 같아 │   │
│ │ 다음엔 탬핑을 더 균일하게    │   │
│ │ 하고, 분쇄도를 한 클릭 굵게  │   │
│ │ 조정해야겠다.               │   │
│ └───────────────────────────┘   │
│                                 │
│ 📌 레시피 북마크로 저장          │
└─────────────────────────────────┘
```

**✨ 개선사항**:
- 빠른 메모 칩
- 레시피 북마크 기능

### 로스터 노트 비교
```
┌─────────────────────────────────┐
│ 🎯 로스터 노트 매칭              │
│                                 │
│ 로스터 제공:                     │
│ "블루베리, 다크초콜릿, 브라운슈가"│
│                                 │
│ 내가 찾은 맛:                    │
│ "블루베리, 다크초콜릿"           │
│                                 │
│ 매칭률: ●●●●●●●○○○ 70%         │
│                                 │
│ 💡 브라운슈가를 못 찾으셨네요!    │
│ → 온도가 45°C일 때 다시 맛보세요 │
└─────────────────────────────────┘
```

### 결과물 사진
```
┌─────────────────────────────────┐
│ 📸 오늘의 커피                  │
│                                 │
│  ┌────┐ ┌────┐ ┌────┐         │
│  │ 📷 │ │크레마│ │전체 │         │
│  │추가 │ │     │ │     │         │
│  └────┘ └────┘ └────┘         │
│                                 │
│ 태그: #크레마 #타이거스킨        │
└─────────────────────────────────┘
```

### 하단 네비게이션
```
[← 이전]                    [다음 →]
추출 진행                    최종 정리
```

## 데이터 구조

### 추출 비교 데이터
```typescript
interface ExtractionComparison {
  current: {
    score: number;
    profile: FlavorProfile;
    variables: ExtractionVariables;
  };
  previous: {
    score: number;
    profile: FlavorProfile;
    variables: ExtractionVariables;
  };
  improvements: {
    variable: string;
    change: string;
    impact: string;
  }[];
}
```

### 추출 진단
```typescript
interface ExtractionDiagnosis {
  level: 'under' | 'optimal' | 'over';
  uniformity: number; // 0-100
  cleanliness: number; // 0-100
  issues: string[];
  suggestions: string[];
}
```

### 온도 프로필
```typescript
interface TemperatureProfile {
  hot: { temp: string; notes: string[] };
  medium: { temp: string; notes: string[] };
  cold: { temp: string; notes: string[] };
  optimal: number;
}
```

## AI 통합

### 추출 개선 제안
```typescript
const prompt = `
현재 추출 변수:
- 분쇄도: ${grindSize}
- 물 온도: ${waterTemp}
- 추출 시간: ${brewTime}

맛 프로필:
- 산미: ${acidity}/10
- 단맛: ${sweetness}/10
- 쓴맛: ${bitterness}/10

문제점: ${issues}

다음 추출을 위한 구체적인 개선 제안 3가지를 
우선순위와 함께 제시해주세요.
`;
```

### 변수 영향 예측
```typescript
const predictImpact = (variable: string, change: string) => {
  // 변수 변경이 맛에 미치는 영향 예측
  return {
    acidity: number,
    sweetness: number,
    bitterness: number,
    body: number
  };
};
```

## HomeCafe Mode 특화 기능

### 레시피 진화 추적
```
┌─────────────────────────────────┐
│ 📈 레시피 진화                   │
│                                 │
│ 1회차: ⭐⭐⭐ (3.0)             │
│ 2회차: ⭐⭐⭐⭐ (3.5)           │
│ 3회차: ⭐⭐⭐⭐ (4.0) ← 현재    │
│                                 │
│ 개선 추세: 📈 상승중             │
└─────────────────────────────────┘
```

### 추출 일관성 점수
```
최근 5회 추출 일관성: 85%
- 맛 프로필 편차: ±10%
- 추출 시간 편차: ±5초
- 수율 편차: ±0.5%
```

## 접근성

### 색각 이상
- 모든 차트에 패턴/텍스처 추가
- 색상 외 숫자 표시
- 명도 대비 확보

### 스크린 리더
- 모든 슬라이더 값 읽기
- 변화 추세 음성 안내
- 개선 제안 읽어주기

## MVP 구현 우선순위

### Phase 1 (필수)
- [x] 기본 5개 슬라이더
- [x] 추출 수준 평가
- [x] 간단한 메모

### Phase 2 (권장)
- [ ] 감각적 표현 칩
- [ ] SCA Flavor Wheel
- [ ] 이전 추출 비교
- [ ] 추출 진단

### Phase 3 (선택)
- [ ] AI 개선 제안
- [ ] 온도별 프로필
- [ ] 레시피 진화 추적